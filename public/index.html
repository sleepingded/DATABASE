<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>Спортивный комплекс</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <header>
    <h1>Панель управления спорткомплексом</h1>
    <div id="userInfo">Загрузка...</div>
    <button id="logoutBtn" style="display:none;">Выйти</button>
  </header>

  <section id="clientsSection">
  <h2>Клиенты</h2>
  
  <!-- НОВАЯ ФОРМА ДОБАВЛЕНИЯ -->
  <form id="addClientForm" style="margin-bottom: 20px;">
    <input type="text" id="clientFullName" placeholder="ФИО" required style="width: 30%; margin-right: 10px;" />
    <input type="text" id="clientPhone" placeholder="Телефон" required style="width: 25%; margin-right: 10px;" />
    <input type="date" id="clientBirthDate" style="width: 20%; margin-right: 10px;" />
    <button type="submit">Добавить</button>
  </form>
  <div id="clientResult"></div>
  
  <button id="loadClients">Загрузить клиентов</button>
  <ul id="clientsList"></ul>
</section>


  <section id="sessionsSection">
    <h2>Расписание</h2>
    <button id="loadSessions">Загрузить занятия</button>
    <ul id="sessionsList"></ul>
  </section>

  <section id="bookingsSection">
    <h2>Брони</h2>
    <button id="loadBookings">Загрузить брони</button>
    <ul id="bookingsList"></ul>
  </section>

  <section id="bookingSection">
    <h2>Новая запись</h2>
    <form id="bookingForm">
      <input type="number" name="client_id" placeholder="ID клиента" required />
      <input type="number" name="session_id" placeholder="ID занятия" required />
      <button type="submit">Записать (proc_create_booking)</button>
    </form>
    <div id="bookingResult"></div>
  </section>

  <section id="adminSection" style="display:none;">
    <h2>Админ-панель (только для admin)</h2>
    <form id="changeStatusForm">
      <input type="number" name="booking_id" placeholder="ID брони" required />
      <select name="status">
        <option value="booked">Записан</option>
        <option value="attended">Посетил</option>
        <option value="canceled">Отменён</option>
        <option value="no_show">Не пришёл</option>
      </select>
      <button type="submit">Изменить статус (триггер UPDATE)</button>
    </form>
    <div id="statusResult"></div>
  </section>

  <script src="app.js"></script>
</body>
</html>
